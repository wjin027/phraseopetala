# phraseopetala
Creative coding final project

# 像素植物情感交互系统
通过像素风格的植物生长可视化用户的语音输入情感。系统会分析用户的语音内容，根据情感倾向（积极、消极或中性）来动态生成植物形态，并以词云背景呈现对话主题。

## 功能特点
- **语音交互**：通过麦克风实时接收用户语音并转换为文本
- **情感分析**：使用智谱AI的ChatGLM模型分析语音内容的情感倾向
- **动态生长**：植物形态根据用户的情感输入实时变化
- **视觉反馈**：
  - 积极情感：鲜艳花朵和茂盛叶子
  - 消极情感：枯萎效果和落叶动画
  - 中性情感：平衡生长的绿色植物
- **词云背景**：根据历史对话生成动态词云背景
- **粒子特效**：添加飘落花瓣、闪烁光点等视觉增强效果

## 使用方法

1. 运行程序：
   ```bash
   python pixel_plant.py
   ```
2. 程序启动后会显示一个窗口，中央是一株小植物
3. 对麦克风说话，系统会：
   - 将语音转换为文本
   - 分析文本情感倾向
   - 根据情感更新植物生长状态
4. 交互过程中：
   - 按ESC键退出程序
5. 程序会自动保存所有语音记录到 `speech_records.txt`

## 代码结构
主要功能模块：
- **语音处理**：使用 `SpeechRecognition` 实现语音输入
- **情感分析**：调用智谱AI的ChatGLM模型分析文本情感
- **植物模拟**：使用像素点绘制植物的茎、叶、花等结构
- **粒子系统**：实现飘落花瓣、闪烁光点等视觉效果
- **词云生成**：基于历史对话生成背景词云

## 自定义选项

你可以通过修改代码中的参数来自定义系统行为：
- 调整植物生长速度和形态：修改 `PixelPlant` 类中的相关参数
- 更改颜色方案：调整 `colors` 字典中的颜色值
- 调整情感分析灵敏度：修改 `analyze_sentiment` 函数的逻辑
- 自定义词云样式：修改 `_generate_wordcloud` 方法中的参数
